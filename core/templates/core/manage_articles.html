{% extends 'core/dashboard_base.html' %}

{% block dashboard_content %}
<div class="flex items-center justify-between mb-8">
    <div>
        <h2 class="text-3xl font-bold text-slate-900 tracking-tight">Your Articles</h2>
        <p class="text-slate-500 mt-1">Share your expertise and build trust.</p>
    </div>
    <a href="{% url 'create_article' %}" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition shadow-lg shadow-blue-200 flex items-center gap-2">
        <i class='bx bx-plus'></i> Write New
    </a>
</div>

<div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
    {% if articles %}
    <div class="divide-y divide-slate-100">
        {% for article in articles %}
        <div class="p-6 flex items-center justify-between hover:bg-slate-50 transition group">
            <div>
                <h3 class="font-bold text-lg text-slate-900 mb-1">{{ article.title }}</h3>
                <p class="text-xs text-slate-400 font-bold uppercase tracking-wide">Published: {{ article.created_at|date:"M d, Y" }}</p>
            </div>
            <div class="flex items-center gap-3">
                <a href="{% url 'article_detail' article.slug %}" target="_blank" class="px-4 py-2 text-sm font-bold text-slate-600 bg-white border border-slate-200 rounded-lg hover:border-slate-300 transition">View</a>
                <a href="{% url 'edit_article' article.pk %}" class="px-4 py-2 text-sm font-bold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition">Edit</a>
                
                <form action="{% url 'delete_article' article.pk %}" method="post" onsubmit="return confirm('Are you sure you want to delete this article? This cannot be undone.');">
                    {% csrf_token %}
                    <button type="submit" class="w-10 h-10 flex items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 transition">
                        <i class='bx bxs-trash'></i>
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="p-12 text-center">
        <div class="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-3xl text-slate-300 mx-auto mb-4"><i class='bx bxs-pencil'></i></div>
        <h3 class="text-slate-900 font-bold text-lg">No articles yet</h3>
        <p class="text-slate-500 mt-2 mb-6">Start writing to demonstrate your knowledge.</p>
        <a href="{% url 'create_article' %}" class="text-blue-600 font-bold hover:underline">Write your first article</a>
    </div>
    {% endif %}
</div>
{% endblock %}